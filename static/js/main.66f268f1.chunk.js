(this["webpackJsonpmeetings-creator"]=this["webpackJsonpmeetings-creator"]||[]).push([[0],{133:function(t,e,n){},134:function(t,e,n){},171:function(t,e){},173:function(t,e){},188:function(t,e){},190:function(t,e){},224:function(t,e){},225:function(t,e){},227:function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=227},230:function(t,e,n){"use strict";n.r(e);var i=n(5),c=n(0),o=n(15),a=n.n(o),r=(n(133),n(13)),s=n(25),u=(n(134),n(117)),l=n.n(u),p=n(254),d=n(30),f=n(21),h="UPDATE_PARTICIPANTS",b="REMOVE_PARTICIPANTS",j="STORE_ZOOM_CODE",O="STORE_SESSION_ID",m="SESSION_FETCHED",v={participants:[],sessionFetched:!1},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(f.a)(Object(f.a)({},t),{},{zoomCode:e.zoomCode});case m:return Object(f.a)(Object(f.a)({},t),{},{sessionFetched:!0});case O:return Object(f.a)(Object(f.a)({},t),{},{sessionId:e.sessionId});case h:return Object(f.a)(Object(f.a)({},t),{},{participants:[].concat(Object(r.a)(t.participants),[e.participant])});case b:var n=Object(r.a)(t.participants),i=n.indexOf(e.participant);return n.splice(i,1),Object(f.a)(Object(f.a)({},t),{},{participants:n});default:return t}},w=function(){var t=Object(p.a)({input:{borderBottom:"1px solid #e94560 !important",color:"white"},chip:{background:"#0f3460",color:"white","&:hover":{background:"#1958A2"}}}),e=Object(d.c)((function(t){return t.participants})),n=t(),c=Object(d.b)(),o=function(){return Object(i.jsx)("span",{className:"chip-input-label",children:"Participants"})};return Object(i.jsx)("div",{className:"participant-input",children:Object(i.jsx)(l.a,{label:Object(i.jsx)(o,{}),classes:{input:n.input,chip:n.chip},value:e,onAdd:function(t){return function(t){c({type:h,participant:t})}(t)},onDelete:function(t,e){return function(t){c({type:b,participant:t})}(t)}})})},g=n(258),N=n(255),S=n(256),y=function(t){var e=t.pair,n=t.colors;return Object(i.jsx)(N.a,{item:!0,xs:6,sm:6,md:4,lg:3,xl:3,children:Object(i.jsxs)(S.a,{className:"paper",children:[Object(i.jsx)("span",{style:{color:n[e[0]]},children:e[0]})," - ",Object(i.jsx)("span",{style:{color:n[e[1]]},children:e[1]})]},"paper-".concat(e))})},E=function(t){var e=t.session,n=t.sessionNumber,c=t.colors;return Object(i.jsxs)(N.a,{className:"session",item:!0,container:!0,xs:12,sm:8,md:8,lg:8,xl:8,children:[Object(i.jsx)("span",{className:"session-title",children:n}),e.map((function(t){return Object(i.jsx)(y,{colors:c,pair:t},"pair-".concat(t))}))]})},C=function(t){var e=t.schedule,n=t.colors,c=0;return e.map((function(t){return c++,Object(i.jsx)(E,{colors:n,session:t,sessionNumber:c},"session-".concat(c))}))},_=n(257),I=function(t){var e=t.display;return Object(i.jsx)(_.a,{color:"inherit",className:"loading",style:{display:e}})},T=n(259),k=n(260),P=function(t){var e=t.notification,n=t.setNotification,c=function(){n(!1,"")};return Object(i.jsx)(T.a,{className:"notification",onClose:c,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:e.show,children:Object(i.jsx)(k.a,{onClose:c,severity:"info",children:e.text})})},D=function(t){var e=0,n=[],i=[],c=0;return function(){t.length%2!==0&&t.push("Wait");var o=t.length/2,a=t.length-1,s=function(t){for(var e=[],n=0;n<t.length;n++)for(var i=n+1;i<t.length;i++)e.push([t[n],t[i]]);return e}(t);return new Promise((function(t,u){(function(t,o,a){return new Promise((function(s,u){for(var l=Object(r.a)(t);i.length!==a;){for(var p=t,d=[],f=[];d.length!==o;){var h=Math.floor(Math.random()*t.length),b=t[h];if(!n.includes(b))if(void 0===b||f.includes(b[0])||f.includes(b[1])){if(++c>100)break}else c=0,d.push(t[h]),f.push(b[0]),f.push(b[1]),p.splice(h,1)}c>100?(++e>1e5&&u(new Error("Execution timed out")),t=Object(r.a)(l),n=[],i=[],c=0):(i.push(d),t=p)}s(i)}))})(s,o,a).then((function(e){return t(e)})).catch((function(t){return u(new Error(t))}))}))}()},R=n(229).v4,L=n(166).fetchUrl,U="https://widfn7ivkg.execute-api.eu-west-2.amazonaws.com/dev/session/",A=function(){return new URLSearchParams(window.location.search).get("code")},F=function(t,e){var n={method:"PUT",headers:{"Content-type":"application/json"},payload:JSON.stringify({id:e,pairs:t})};L(U,n,(function(t,e,n){console.log(n.toString())}))},M=function(t,e,n,i){if(void 0===i.sessionId){var c=new URLSearchParams(window.location.search).get("sessionId"),o=A();z(n,t,c),J(o,t)}},z=function(t,e,n){if(null===n){n=R();var i="",c=A();i=null===c?"?sessionId=".concat(n):"?code=".concat(c,"&sessionId=").concat(n),window.history.replaceState(null,null,window.location.pathname+i)}else!function(t,e,n){L(U+n,(function(n,i,c){var o=JSON.parse(c.toString()).response;if(void 0!==o){var a=JSON.parse(o.pairs.S);0!==a.length&&(t(a),a[0].flat().map((function(t){return e({type:h,participant:t})})))}})),e({type:m})}(t,e,n);e({type:O,sessionId:n})},J=function(t,e){null!==t&&e({type:j,zoomCode:t})},W=function(){var t=Object(d.c)((function(t){return t})),e=t.participants,n=Object(c.useState)([]),o=Object(s.a)(n,2),a=o[0],u=o[1],l=Object(d.b)(),p=Object(c.useState)({}),f=Object(s.a)(p,2),h=f[0],j=f[1],O=Object(c.useState)("none"),m=Object(s.a)(O,2),v=m[0],x=m[1],N=Object(c.useState)({show:!1,text:""}),S=Object(s.a)(N,2),y=S[0],E=S[1],_=function(t){u(t),j(function(t){var e={},n=["#b9f261","#f76865","#41a6f6","#fae058","#73eff7","#94b0c2","#99b851","#bf585e","#61f2ca","#51b892","#ffbf54","#f4f4f4","#ffcd75","#38b764"],i=0;return t.forEach((function(t){t.forEach((function(t){e[t]=n[i],i++}))})),e}(t[0]))};M(l,0,_,t);return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(I,{display:v}),Object(i.jsxs)("div",{className:"middle",children:[Object(i.jsx)(P,{notification:y,setNotification:E}),Object(i.jsx)(w,{}),Object(i.jsxs)("div",{className:"tooltip-container",children:[Object(i.jsx)("span",{className:"tooltip",children:"add participant"}),Object(i.jsx)("img",{className:"enter-button",src:"/feedback-pairs/enter-key.png",alt:"enter key"})]}),Object(i.jsx)(g.a,{className:"create-pairs-button",variant:"contained",color:"primary",onClick:function(){e.length<3?E({show:!0,text:"Less than 3 participants is not supported!"}):e.length>14?E({show:!0,text:"More than 14 participants is not supported!"}):e.includes("Wait")?E({show:!0,text:"Wait is reserved word, please remove it from list of participants"}):0!==e.length&&(x("block"),setTimeout((function(){return D(Object(r.a)(e)).then((function(e){_(e),console.log(t),F(e,t.sessionId)})).then((function(t){return x("none")})).catch((function(t){E({show:!0,text:"We are having issue computing this! Please try again or try with less participants."}),x("none")}))}),500))},children:"Pair"}),Object(i.jsx)(g.a,{className:"clear-pairs-button",variant:"contained",color:"primary",onClick:function(){return e.map((function(t){return l({type:b,participant:t})})),u([]),F([],t.id),void E({show:!0,text:"Removed all participants!"})},children:"Clear"}),Object(i.jsx)(g.a,{className:"share-pairs-button",variant:"contained",color:"default",onClick:function(){return function(){var t=document.body.appendChild(document.createElement("input"));t.value=window.location,t.focus(),t.select(),document.execCommand("copy"),t.parentNode.removeChild(t),window.scrollTo(0,0),E({show:!0,text:"Link copied to clipboard! Session will be valid for 24hours!"})}()},children:"Share"})]}),Object(i.jsx)(C,{schedule:a,colors:h})]})},X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,261)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),o(t),a(t)}))},B=n(69),V=Object(B.b)(x,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(i.jsx)(d.a,{store:V,children:Object(i.jsx)(W,{})}),document.getElementById("root")),X()}},[[230,1,2]]]);
//# sourceMappingURL=main.66f268f1.chunk.js.map