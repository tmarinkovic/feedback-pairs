(this["webpackJsonpmeetings-creator"]=this["webpackJsonpmeetings-creator"]||[]).push([[0],{133:function(t,n,e){},134:function(t,n,e){},171:function(t,n){},173:function(t,n){},188:function(t,n){},190:function(t,n){},224:function(t,n){},225:function(t,n){},227:function(t,n){function e(t){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id=227},230:function(t,n,e){"use strict";e.r(n);var i=e(5),c=e(0),o=e(15),a=e.n(o),r=(e(133),e(13)),s=e(24),u=(e(134),e(117)),l=e.n(u),p=e(254),f=e(29),d=e(54),h="UPDATE_PARTICIPANTS",b="REMOVE_PARTICIPANTS",j={participants:[]},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case h:return Object(d.a)(Object(d.a)({},t),{},{participants:[].concat(Object(r.a)(t.participants),[n.participant])});case b:var e=Object(r.a)(t.participants),i=e.indexOf(n.participant);return e.splice(i,1),Object(d.a)(Object(d.a)({},t),{},{participants:e});default:return t}},m=function(){var t=Object(p.a)({input:{borderBottom:"1px solid #e94560 !important",color:"white"},chip:{background:"#0f3460",color:"white","&:hover":{background:"#1958A2"}}}),n=Object(f.c)((function(t){return t.participants})),e=t(),c=Object(f.b)(),o=function(){return Object(i.jsx)("span",{className:"chip-input-label",children:"Participants"})};return Object(i.jsx)("div",{className:"participant-input",children:Object(i.jsx)(l.a,{label:Object(i.jsx)(o,{}),classes:{input:e.input,chip:e.chip},value:n,onAdd:function(t){return function(t){c({type:h,participant:t})}(t)},onDelete:function(t,n){return function(t){c({type:b,participant:t})}(t)}})})},v=e(258),x=e(255),g=e(256),w=function(t){var n=t.pair,e=t.colors;return Object(i.jsx)(x.a,{item:!0,xs:6,sm:6,md:4,lg:3,xl:3,children:Object(i.jsxs)(g.a,{className:"paper",children:[Object(i.jsx)("span",{style:{color:e[n[0]]},children:n[0]})," - ",Object(i.jsx)("span",{style:{color:e[n[1]]},children:n[1]})]},"paper-".concat(n))})},N=function(t){var n=t.session,e=t.sessionNumber,c=t.colors;return Object(i.jsxs)(x.a,{className:"session",item:!0,container:!0,xs:12,sm:8,md:8,lg:8,xl:8,children:[Object(i.jsx)("span",{className:"session-title",children:e}),n.map((function(t){return Object(i.jsx)(w,{colors:c,pair:t},"pair-".concat(t))}))]})},y=function(t){var n=t.schedule,e=t.colors,c=0;return n.map((function(t){return c++,Object(i.jsx)(N,{colors:e,session:t,sessionNumber:c},"session-".concat(c))}))},E=e(257),S=function(t){var n=t.display;return Object(i.jsx)(E.a,{color:"inherit",className:"loading",style:{display:n}})},C=e(259),_=e(260),k=function(t){var n=t.notification,e=t.setNotification,c=function(){e(!1,"")};return Object(i.jsx)(C.a,{className:"notification",onClose:c,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:n.show,children:Object(i.jsx)(_.a,{onClose:c,severity:"info",children:n.text})})},T=function(t){var n=0,e=[],i=[],c=0;return function(){t.length%2!==0&&t.push("Wait");var o=t.length/2,a=t.length-1,s=function(t){for(var n=[],e=0;e<t.length;e++)for(var i=e+1;i<t.length;i++)n.push([t[e],t[i]]);return n}(t);return new Promise((function(t,u){(function(t,o,a){return new Promise((function(s,u){for(var l=Object(r.a)(t);i.length!==a;){for(var p=t,f=[],d=[];f.length!==o;){var h=Math.floor(Math.random()*t.length),b=t[h];if(!e.includes(b))if(void 0===b||d.includes(b[0])||d.includes(b[1])){if(++c>100)break}else c=0,f.push(t[h]),d.push(b[0]),d.push(b[1]),p.splice(h,1)}c>100?(++n>1e5&&u(new Error("Execution timed out")),t=Object(r.a)(l),e=[],i=[],c=0):(i.push(f),t=p)}s(i)}))})(s,o,a).then((function(n){return t(n)})).catch((function(t){return u(new Error(t))}))}))}()},P=e(229).v4,D=e(166).fetchUrl,A=!0,I="https://widfn7ivkg.execute-api.eu-west-2.amazonaws.com/dev/session/",L=function(){var t=window.location.pathname.split("/");return t[t.length-1]},U=function(t){var n=L(),e={method:"PUT",headers:{"Content-type":"application/json"},payload:JSON.stringify({id:n,pairs:t})};D(I,e,(function(t,n,e){console.log(e.toString())}))},R=function(){var t=Object(f.c)((function(t){return t.participants})),n=Object(c.useState)([]),e=Object(s.a)(n,2),o=e[0],a=e[1],u=Object(f.b)(),l=Object(c.useState)({}),p=Object(s.a)(l,2),d=p[0],j=p[1],O=Object(c.useState)("none"),x=Object(s.a)(O,2),g=x[0],w=x[1],N=Object(c.useState)({show:!1,text:""}),E=Object(s.a)(N,2),C=E[0],_=E[1],R=function(t){console.log("configurePairs"),console.log(t),a(t),j(function(t){var n={},e=["#b9f261","#f76865","#41a6f6","#fae058","#73eff7","#94b0c2","#99b851","#bf585e","#61f2ca","#51b892","#ffbf54","#f4f4f4","#ffcd75","#38b764"],i=0;return t.forEach((function(t){t.forEach((function(t){n[t]=e[i],i++}))})),n}(t[0]))};!function(t,n,e){var i=P(),c=L(),o=window.location.href.replace(/\/$/,"");""===c&&(window.location.href=o),o.includes("session::")?A&&(A=!1,D(I+(i=c),(function(n,i,c){var o=JSON.parse(c.toString()).response;if(void 0!==o){var a=JSON.parse(o.pairs.S);0!==a.length&&(e(a),a[0].flat().map((function(n){return t({type:h,participant:n})})))}}))):(o=o+"/session::"+i,window.location.href=o)}(u,0,R);return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(S,{display:g}),Object(i.jsxs)("div",{className:"middle",children:[Object(i.jsx)(k,{notification:C,setNotification:_}),Object(i.jsx)(m,{}),Object(i.jsxs)("div",{className:"tooltip-container",children:[Object(i.jsx)("span",{className:"tooltip",children:"add participant"}),Object(i.jsx)("img",{className:"enter-button",src:"/feedback-pairs/enter-key.png",alt:"enter key"})]}),Object(i.jsx)(v.a,{className:"create-pairs-button",variant:"contained",color:"primary",onClick:function(){t.length<3?_({show:!0,text:"Less than 3 participants is not supported!"}):t.length>14?_({show:!0,text:"More than 14 participants is not supported!"}):t.includes("Wait")?_({show:!0,text:"Wait is reserved word, please remove it from list of participants"}):0!==t.length&&(w("block"),setTimeout((function(){return T(Object(r.a)(t)).then((function(t){R(t),U(t)})).then((function(t){return w("none")})).catch((function(t){_({show:!0,text:"We are having issue computing this! Please try again or try with less participants."}),w("none")}))}),500))},children:"Pair"}),Object(i.jsx)(v.a,{className:"clear-pairs-button",variant:"contained",color:"primary",onClick:function(){return t.map((function(t){return u({type:b,participant:t})})),a([]),U([]),void _({show:!0,text:"Removed all participants!"})},children:"Clear"}),Object(i.jsx)(v.a,{className:"share-pairs-button",variant:"contained",color:"default",onClick:function(){return function(){var t=document.body.appendChild(document.createElement("input"));t.value=window.location,t.focus(),t.select(),document.execCommand("copy"),t.parentNode.removeChild(t),window.scrollTo(0,0),_({show:!0,text:"Link copied to clipboard! Session will be valid for 24hours!"})}()},children:"Share"})]}),Object(i.jsx)(y,{schedule:o,colors:d})]})},F=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,261)).then((function(n){var e=n.getCLS,i=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;e(t),i(t),c(t),o(t),a(t)}))},J=e(69),M=Object(J.b)(O,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(i.jsx)(f.a,{store:M,children:Object(i.jsx)(R,{})}),document.getElementById("root")),F()}},[[230,1,2]]]);
//# sourceMappingURL=main.b82d114f.chunk.js.map